import React from "react";
import { View, Image, StyleSheet } from "react-native";
// -- orelhas --
import orelha1 from "@/assets/images/Personagem/orelhas/1.svg";
import orelha2 from "@/assets/images/Personagem/orelhas/2.svg";
import orelha3 from "@/assets/images/Personagem/orelhas/3.svg";
import orelha4 from "@/assets/images/Personagem/orelhas/4.svg";
import orelha5 from "@/assets/images/Personagem/orelhas/5.svg";
import orelha6 from "@/assets/images/Personagem/orelhas/6.svg";
import orelha7 from "@/assets/images/Personagem/orelhas/7.svg";
import orelha8 from "@/assets/images/Personagem/orelhas/8.svg";
// -- bochechaS --
import bochecha1 from "@/assets/images/Personagem/bochechas/1.svg";
import bochecha2 from "@/assets/images/Personagem/bochechas/2.svg";
import bochecha3 from "@/assets/images/Personagem/bochechas/3.svg";
import bochecha4 from "@/assets/images/Personagem/bochechas/4.svg";
import bochecha5 from "@/assets/images/Personagem/bochechas/5.svg";
import bochecha6 from "@/assets/images/Personagem/bochechas/6.svg";

//-- OLHOS --
import olhos1 from "@/assets/images/Personagem/olhos/1.svg";
import olhos2 from "@/assets/images/Personagem/olhos/2.svg";
import olhos3 from "@/assets/images/Personagem/olhos/3.svg";
import olhos4 from "@/assets/images/Personagem/olhos/4.svg";
import olhos5 from "@/assets/images/Personagem/olhos/5.svg";
import olhos6 from "@/assets/images/Personagem/olhos/6.svg";
import olhos7 from "@/assets/images/Personagem/olhos/7.svg";
import olhos8 from "@/assets/images/Personagem/olhos/8.svg";
import olhos9 from "@/assets/images/Personagem/olhos/9.svg";
import olhos10 from "@/assets/images/Personagem/olhos/10.svg";
import olhos11 from "@/assets/images/Personagem/olhos/11.svg";
import olhos12 from "@/assets/images/Personagem/olhos/12.svg";
import olhos13 from "@/assets/images/Personagem/olhos/13.svg";
import olhos14 from "@/assets/images/Personagem/olhos/14.svg";
import olhos15 from "@/assets/images/Personagem/olhos/15.svg";
import olhos16 from "@/assets/images/Personagem/olhos/16.svg";
import olhos17 from "@/assets/images/Personagem/olhos/17.svg";
import olhos18 from "@/assets/images/Personagem/olhos/18.svg";
import olhos19 from "@/assets/images/Personagem/olhos/19.svg";
import olhos20 from "@/assets/images/Personagem/olhos/20.svg";
import olhos21 from "@/assets/images/Personagem/olhos/21.svg";
import olhos22 from "@/assets/images/Personagem/olhos/22.svg";
import olhos23 from "@/assets/images/Personagem/olhos/23.svg";
import olhos24 from "@/assets/images/Personagem/olhos/24.svg";
import olhos25 from "@/assets/images/Personagem/olhos/25.svg";
import olhos26 from "@/assets/images/Personagem/olhos/26.svg";
import olhos27 from "@/assets/images/Personagem/olhos/27.svg";
import olhos28 from "@/assets/images/Personagem/olhos/28.svg";
import olhos29 from "@/assets/images/Personagem/olhos/29.svg";
import olhos30 from "@/assets/images/Personagem/olhos/30.svg";
import olhos31 from "@/assets/images/Personagem/olhos/31.svg";
import olhos32 from "@/assets/images/Personagem/olhos/32.svg";
//--boca--
import boca1 from "@/assets/images/Personagem/boca/1.svg";
import boca2 from "@/assets/images/Personagem/boca/2.svg";
import boca3 from "@/assets/images/Personagem/boca/3.svg";
import boca4 from "@/assets/images/Personagem/boca/4.svg";
import boca5 from "@/assets/images/Personagem/boca/5.svg";
import boca6 from "@/assets/images/Personagem/boca/6.svg";
import boca7 from "@/assets/images/Personagem/boca/7.svg";
import boca8 from "@/assets/images/Personagem/boca/8.svg";
import boca9 from "@/assets/images/Personagem/boca/9.svg";
import boca10 from "@/assets/images/Personagem/boca/10.svg";
import boca11 from "@/assets/images/Personagem/boca/11.svg";
import boca12 from "@/assets/images/Personagem/boca/12.svg";
import boca13 from "@/assets/images/Personagem/boca/13.svg";
import boca14 from "@/assets/images/Personagem/boca/14.svg";
import boca15 from "@/assets/images/Personagem/boca/15.svg";
import boca16 from "@/assets/images/Personagem/boca/16.svg";
import boca17 from "@/assets/images/Personagem/boca/17.svg";
import boca18 from "@/assets/images/Personagem/boca/18.svg";
import boca19 from "@/assets/images/Personagem/boca/19.svg";
import boca20 from "@/assets/images/Personagem/boca/20.svg";
import boca21 from "@/assets/images/Personagem/boca/21.svg";
import boca22 from "@/assets/images/Personagem/boca/22.svg";
import boca23 from "@/assets/images/Personagem/boca/23.svg";
import boca24 from "@/assets/images/Personagem/boca/24.svg";
import boca25 from "@/assets/images/Personagem/boca/25.svg";
import boca26 from "@/assets/images/Personagem/boca/26.svg";
import boca27 from "@/assets/images/Personagem/boca/27.svg";
import boca28 from "@/assets/images/Personagem/boca/28.svg";
import boca29 from "@/assets/images/Personagem/boca/29.svg";
import boca30 from "@/assets/images/Personagem/boca/30.svg";
import boca31 from "@/assets/images/Personagem/boca/31.svg";
import boca32 from "@/assets/images/Personagem/boca/32.svg";
import boca33 from "@/assets/images/Personagem/boca/33.svg";
import boca34 from "@/assets/images/Personagem/boca/34.svg";
import boca35 from "@/assets/images/Personagem/boca/35.svg";
import boca36 from "@/assets/images/Personagem/boca/36.svg";
import boca37 from "@/assets/images/Personagem/boca/37.svg";
import boca38 from "@/assets/images/Personagem/boca/38.svg";
import boca39 from "@/assets/images/Personagem/boca/39.svg";
import boca40 from "@/assets/images/Personagem/boca/40.svg";
import boca41 from "@/assets/images/Personagem/boca/41.svg";
import boca42 from "@/assets/images/Personagem/boca/42.svg";
import boca43 from "@/assets/images/Personagem/boca/43.svg";
// -- franja --
import franja1 from "@/assets/images/Personagem/franja/1.svg";
import franja2 from "@/assets/images/Personagem/franja/2.svg";
import franja3 from "@/assets/images/Personagem/franja/3.svg";
import franja4 from "@/assets/images/Personagem/franja/4.svg";
import franja5 from "@/assets/images/Personagem/franja/5.svg";
import franja6 from "@/assets/images/Personagem/franja/6.svg";
import franja7 from "@/assets/images/Personagem/franja/7.svg";
import franja8 from "@/assets/images/Personagem/franja/8.svg";
import franja9 from "@/assets/images/Personagem/franja/9.svg";
import franja10 from "@/assets/images/Personagem/franja/10.svg";
import franja11 from "@/assets/images/Personagem/franja/11.svg";
import franja12 from "@/assets/images/Personagem/franja/12.svg";
// -- CABELOS ---
import cabelo1 from "@/assets/images/Personagem/cabelo/1.svg";
import cabelo2 from "@/assets/images/Personagem/cabelo/2.svg";
import cabelo3 from "@/assets/images/Personagem/cabelo/3.svg";
import cabelo4 from "@/assets/images/Personagem/cabelo/4.svg";
import cabelo5 from "@/assets/images/Personagem/cabelo/5.svg";
import cabelo6 from "@/assets/images/Personagem/cabelo/6.svg";
import cabelo7 from "@/assets/images/Personagem/cabelo/7.svg";
import cabelo8 from "@/assets/images/Personagem/cabelo/8.svg";
import cabelo9 from "@/assets/images/Personagem/cabelo/9.svg";
import cabelo10 from "@/assets/images/Personagem/cabelo/10.svg";
import cabelo11 from "@/assets/images/Personagem/cabelo/11.svg";
import cabelo12 from "@/assets/images/Personagem/cabelo/12.svg";
import cabelo13 from "@/assets/images/Personagem/cabelo/13.svg";
import cabelo14 from "@/assets/images/Personagem/cabelo/14.svg";
import cabelo15 from "@/assets/images/Personagem/cabelo/15.svg";
import cabelo16 from "@/assets/images/Personagem/cabelo/16.svg";
import cabelo17 from "@/assets/images/Personagem/cabelo/17.svg";
import cabelo18 from "@/assets/images/Personagem/cabelo/18.svg";
import cabelo19 from "@/assets/images/Personagem/cabelo/19.svg";
import cabelo20 from "@/assets/images/Personagem/cabelo/20.svg";
import cabelo21 from "@/assets/images/Personagem/cabelo/21.svg";
import cabelo22 from "@/assets/images/Personagem/cabelo/22.svg";
import cabelo23 from "@/assets/images/Personagem/cabelo/23.svg";
import cabelo24 from "@/assets/images/Personagem/cabelo/24.svg";
import cabelo25 from "@/assets/images/Personagem/cabelo/25.svg";
import cabelo26 from "@/assets/images/Personagem/cabelo/26.svg";
import cabelo27 from "@/assets/images/Personagem/cabelo/27.svg";
import cabelo28 from "@/assets/images/Personagem/cabelo/28.svg";
import cabelo29 from "@/assets/images/Personagem/cabelo/29.svg";
import cabelo30 from "@/assets/images/Personagem/cabelo/30.svg";
import cabelo31 from "@/assets/images/Personagem/cabelo/31.svg";
import cabelo32 from "@/assets/images/Personagem/cabelo/32.svg";
import cabelo33 from "@/assets/images/Personagem/cabelo/33.svg";
import cabelo34 from "@/assets/images/Personagem/cabelo/34.svg";
import cabelo35 from "@/assets/images/Personagem/cabelo/35.svg";
import cabelo36 from "@/assets/images/Personagem/cabelo/36.svg";
import cabelo37 from "@/assets/images/Personagem/cabelo/37.svg";
import cabelo38 from "@/assets/images/Personagem/cabelo/38.svg";
import cabelo39 from "@/assets/images/Personagem/cabelo/39.svg";
import cabelo40 from "@/assets/images/Personagem/cabelo/40.svg";

//-- nariz --
import nariz1 from "@/assets/images/Personagem/nariz/1.svg";
import nariz2 from "@/assets/images/Personagem/nariz/2.svg";
import nariz3 from "@/assets/images/Personagem/nariz/3.svg";
import nariz4 from "@/assets/images/Personagem/nariz/4.svg";
import nariz5 from "@/assets/images/Personagem/nariz/5.svg";
import nariz6 from "@/assets/images/Personagem/nariz/6.svg";
import nariz7 from "@/assets/images/Personagem/nariz/7.svg";
import nariz8 from "@/assets/images/Personagem/nariz/8.svg";
import nariz9 from "@/assets/images/Personagem/nariz/9.svg";
import nariz10 from "@/assets/images/Personagem/nariz/10.svg";
import nariz11 from "@/assets/images/Personagem/nariz/11.svg";
import nariz12 from "@/assets/images/Personagem/nariz/12.svg";
// --- ROSTOS ---
import rosto1 from "@/assets/images/Personagem/rosto/1.tsx";
import rosto2 from "@/assets/images/Personagem/rosto/2.tsx";
import rosto3 from "@/assets/images/Personagem/rosto/3.tsx";
import rosto4 from "@/assets/images/Personagem/rosto/4.tsx";
import rosto5 from "@/assets/images/Personagem/rosto/5.tsx";
import rosto6 from "@/assets/images/Personagem/rosto/6.tsx";
import rosto7 from "@/assets/images/Personagem/rosto/7.tsx";
import rosto8 from "@/assets/images/Personagem/rosto/8.tsx";
import rosto9 from "@/assets/images/Personagem/rosto/9.tsx";
import rosto10 from "@/assets/images/Personagem/rosto/10.tsx";

//-- backgroundS --
import background1 from "@/assets/images/Personagem/background/1.svg";
import background2 from "@/assets/images/Personagem/background/2.svg";
import background3 from "@/assets/images/Personagem/background/3.svg";
import background4 from "@/assets/images/Personagem/background/4.svg";
import background5 from "@/assets/images/Personagem/background/5.svg";
import background6 from "@/assets/images/Personagem/background/6.svg";
import background7 from "@/assets/images/Personagem/background/7.svg";
import background8 from "@/assets/images/Personagem/background/8.svg";
import background9 from "@/assets/images/Personagem/background/9.svg";
import background10 from "@/assets/images/Personagem/background/10.svg";
import background11 from "@/assets/images/Personagem/background/11.svg";
import background12 from "@/assets/images/Personagem/background/12.svg";
import background13 from "@/assets/images/Personagem/background/13.svg";
import background14 from "@/assets/images/Personagem/background/14.svg";

import { EMBLEMAS } from '@/constants/dadosEmblemas';

const partesPersonagem = {
  background: {
    background1: background1,
    background2: background2,
    background3: background3,
    background4: background4,
    background5: background5,
    background6: background6,
    background7: background7,
    background8: background8,
    background9: background9,
    background10: background10,
    background11: background11,
    background12: background12,
    background13: background13,
    background14: background14,
  },
  orelha: {
    orelha1: orelha1,
    orelha2: orelha2,
    orelha3: orelha3,
    orelha4: orelha4,
    orelha5: orelha5,
    orelha6: orelha6,
    orelha7: orelha7,
    orelha8: orelha8,
  },
  bochecha: {
    bochecha1: bochecha1,
    bochecha2: bochecha2,
    bochecha3: bochecha3,
    bochecha4: bochecha4,
    bochecha5: bochecha5,
    bochecha6: bochecha6,
  },
  rosto: {
    rosto1: rosto1,
    rosto2: rosto2,
    rosto3: rosto3,
    rosto4: rosto4,
    rosto5: rosto5,
    rosto6: rosto6,
    rosto7: rosto7,
    rosto8: rosto8,
    rosto9: rosto9,
    rosto10: rosto10,
  },
  olhos: {
    olhos1: olhos1,
    olhos2: olhos2,
    olhos3: olhos3,
    olhos4: olhos4,
    olhos5: olhos5,
    olhos6: olhos6,
    olhos7: olhos7,
    olhos8: olhos8,
    olhos9: olhos9,
    olhos10: olhos10,
    olhos11: olhos11,
    olhos12: olhos12,
    olhos13: olhos13,
    olhos14: olhos14,
    olhos15: olhos15,
    olhos16: olhos16,
    olhos17: olhos17,
    olhos18: olhos18,
    olhos19: olhos19,
    olhos20: olhos20,
    olhos21: olhos21,
    olhos22: olhos22,
    olhos23: olhos23,
    olhos24: olhos24,
    olhos25: olhos25,
    olhos26: olhos26,
    olhos27: olhos27,
    olhos28: olhos28,
    olhos29: olhos29,
    olhos30: olhos30,
    olhos31: olhos31,
    olhos32: olhos32,
  },
  boca: {
    boca1: boca1,
    boca2: boca2,
    boca3: boca3,
    boca4: boca4,
    boca5: boca5,
    boca6: boca6,
    boca7: boca7,
    boca8: boca8,
    boca9: boca9,
    boca10: boca10,
    boca11: boca11,
    boca12: boca12,
    boca13: boca13,
    boca14: boca14,
    boca15: boca15,
    boca16: boca16,
    boca17: boca17,
    boca18: boca18,
    boca19: boca19,
    boca20: boca20,
    boca21: boca21,
    boca22: boca22,
    boca23: boca23,
    boca24: boca24,
    boca25: boca25,
    boca26: boca26,
    boca27: boca27,
    boca28: boca28,
    boca29: boca29,
    boca30: boca30,
    boca31: boca31,
    boca32: boca32,
    boca33: boca33,
    boca34: boca34,
    boca35: boca35,
    boca36: boca36,
    boca37: boca37,
    boca38: boca38,
    boca39: boca39,
    boca40: boca40,
    boca41: boca41,
    boca42: boca42,
    boca43: boca43,
  },
  franja: {
    franja1: franja1,
    franja2: franja2,
    franja3: franja3,
    franja4: franja4,
    franja5: franja5,
    franja6: franja6,
    franja7: franja7,
    franja8: franja8,
    franja9: franja9,
    franja10: franja10,
    franja11: franja11,
    franja12: franja12,
  },
  cabelo: {
    cabelo1: cabelo1,
    cabelo2: cabelo2,
    cabelo3: cabelo3,
    cabelo4: cabelo4,
    cabelo5: cabelo5,
    cabelo6: cabelo6,
    cabelo7: cabelo7,
    cabelo8: cabelo8,
    cabelo9: cabelo9,
    cabelo10: cabelo10,
    cabelo11: cabelo11,
    cabelo12: cabelo12,
    cabelo13: cabelo13,
    cabelo14: cabelo14,
    cabelo15: cabelo15,
    cabelo16: cabelo16,
    cabelo17: cabelo17,
    cabelo18: cabelo18,
    cabelo19: cabelo19,
    cabelo20: cabelo20,
    cabelo21: cabelo21,
    cabelo22: cabelo22,
    cabelo23: cabelo23,
    cabelo24: cabelo24,
    cabelo25: cabelo25,
    cabelo26: cabelo26,
    cabelo27: cabelo27,
    cabelo28: cabelo28,
    cabelo29: cabelo29,
    cabelo30: cabelo30,
    cabelo31: cabelo31,
    cabelo32: cabelo32,
    cabelo33: cabelo33,
    cabelo34: cabelo34,
    cabelo35: cabelo35,
    cabelo36: cabelo36,
    cabelo37: cabelo37,
    cabelo38: cabelo38,
    cabelo39: cabelo39,
    cabelo40: cabelo40,
  },
  nariz: {
    nariz1: nariz1,
    nariz2: nariz2,
    nariz3: nariz3,
    nariz4: nariz4,
    nariz5: nariz5,
    nariz6: nariz6,
    nariz7: nariz7,
    nariz8: nariz8,
    nariz9: nariz9,
    nariz10: nariz10,
    nariz11: nariz11,
    nariz12: nariz12,
  },
};

interface CharacterProps {
  size: number;
  customizations: {
    background: keyof typeof partesPersonagem.background;
    ears: keyof typeof partesPersonagem.orelha;
    cheeks: keyof typeof partesPersonagem.bochecha;
    face: keyof typeof partesPersonagem.rosto;
    eyes: keyof typeof partesPersonagem.olhos;
    mouth: keyof typeof partesPersonagem.boca;
    bangs: keyof typeof partesPersonagem.franja;
    hair: keyof typeof partesPersonagem.cabelo;
    nose: keyof typeof partesPersonagem.nariz;
    faceColor?: string;
    faceShadowColor?: string;
  };
  emblemId?: string | null;
}

export function Personagem({ size, customizations, emblemId }: CharacterProps) {
  const { background, ears, cheeks, face, eyes, mouth, bangs, hair, nose, faceColor,faceShadowColor } =
    customizations;

  // componentes SVG
  const BackgroundComponent = partesPersonagem.background[background];
  const EarsComponent = partesPersonagem.orelha[ears];
  const CheeksComponent = partesPersonagem.bochecha[cheeks];
  const FaceComponent = partesPersonagem.rosto[face];
  const EyesComponent = partesPersonagem.olhos[eyes];
  const MouthComponent = partesPersonagem.boca[mouth];
  const BangsComponent = partesPersonagem.franja[bangs];
  const HairComponent = partesPersonagem.cabelo[hair];
  const NoseComponent = partesPersonagem.nariz[nose];
  const EmblemaComponent = emblemId ? EMBLEMAS[emblemId as keyof typeof EMBLEMAS]?.EmblemaPersonagem : null;

  //console.log('Renderizando o rosto com a cor:', faceColor);

  return (
    <View style={[styles.avatarContainer, { width: size, height: size }]}>
      {EmblemaComponent && (
        <View style={[styles.emblemLayer, { zIndex: 1.5 }]}>
          <EmblemaComponent width="160%" height="160%" />
        </View>
      )}
      {BackgroundComponent && (
        <View style={[styles.backgroundLayer, { zIndex: 1 }]}>
          <BackgroundComponent width="100%" height="100%" />
        </View>
      )}
      {EarsComponent && (
        <View style={[styles.earRightLayer, { zIndex: 5 }]}>
          <EarsComponent width="50%" height="50%" fill={faceColor}/>
        </View>
      )}
      {EarsComponent && (
        <View style={[styles.earLeftLayer, { zIndex: 5 }]}>
          <EarsComponent width="50%" height="50%" fill={faceColor}/>
        </View>
      )}
      {CheeksComponent && (
        <View style={[styles.cheekLayer, { zIndex: 7 }]}>
          <CheeksComponent width="100%" height="100%" />
        </View>
      )}
      {NoseComponent && (
        <View style={[styles.noseLayer, { zIndex: 4 }]}>
          <NoseComponent width="100%" height="100%" fill={faceColor}/>
        </View>
      )}
      {FaceComponent && (
        <View style={[styles.faceLayer, { zIndex: 3 }]}>
          <FaceComponent width="100%" height="100%" fill={faceColor} shadowFill={faceShadowColor}/>
        </View>
      )}
      {EyesComponent && (
        <View style={[styles.eyesLayer, { zIndex: 6 }]}>
          <EyesComponent width="100%" height="100%" />
        </View>
      )}
      {MouthComponent && (
        <View style={[styles.mouthLayer, { zIndex: 4 }]}>
          <MouthComponent width="100%" height="100%" />
        </View>
      )}
      {BangsComponent && (
        <View style={[styles.frontHairLayer, { zIndex: 8 }]}>
          <BangsComponent width="100%" height="100%" />
        </View>
      )}
      {HairComponent && (
        <View style={[styles.hairLayer, { zIndex: 2 }]}>
          <HairComponent width="100%" height="100%" />
        </View>
      )}
    </View>
  );
}

const styles = StyleSheet.create({
  avatarContainer: {
    position: "relative",
    justifyContent: "center",
    alignItems: "center",
  },
  backgroundLayer: {
    ...StyleSheet.absoluteFillObject,
    transform: [{ scale: 1.5 }],
  },
  hairLayer: {
    ...StyleSheet.absoluteFillObject,
    transform: [{ translateY: "-5%" }, { scale: 1.2 }], 
  },
  faceLayer: {
    ...StyleSheet.absoluteFillObject,
    transform: [{ translateY: "22%" }, { scale: 0.9 }], 
  },
  mouthLayer: {
    ...StyleSheet.absoluteFillObject,
    transform: [{ translateY: "40%" }, { scale: 0.16 }], 
  },
  earRightLayer: {
    ...StyleSheet.absoluteFillObject,
    top: "28%", 
    left: "45%",
    transform: [{ scale: 0.5 }],
    width: "100%",
    height: "100%",
  },
  earLeftLayer: {
    ...StyleSheet.absoluteFillObject,
    top: "28%", 
    left: "-45%",
    width: "100%",
    height: "100%",
    transform: [{ scale: 0.5 }, { scaleX: -1 }],
  },
  eyesLayer: {
    ...StyleSheet.absoluteFillObject,
    transform: [{ translateY: "12.5%" }, { scale: 0.6 }], 
  },
  cheekLayer: {
    ...StyleSheet.absoluteFillObject,
    transform: [{ translateY: "27%" }, { scale: 0.6 }],
  },
  noseLayer: {
    ...StyleSheet.absoluteFillObject,
    transform: [{ translateY: "23%" }, { scale: 0.15 }], 
  },
  frontHairLayer: {
    ...StyleSheet.absoluteFillObject,
    transform: [{ translateY: "-10%" }, { scale: 0.7 }], 
  },
  emblemLayer: {
    ...StyleSheet.absoluteFillObject,
    justifyContent: 'center',
    alignItems: 'center',
  },
});